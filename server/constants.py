#!/usr/bin/env python
# -*- coding: utf-8 -*-
###############################################################################
#  Copyright 2016 Open Source Electronic Health Record Alliance.
#
#  Licensed under the Apache License, Version 2.0 ( the "License" );
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
###############################################################################

# Constants representing the setting keys for this plugin
from string import Template


class TechJournalSettings(object):
    admin_email = 'tech_journal.admin_email'
    default_journal = 'tech_journal.default_journal'
    default_layout = 'tech_journal.default_layout'
    base_handle = 'tech_journal.base_handle'
    old_url = 'tech_journal.old_url'


class TechJournalSettingsDefault:
    defaults = {
        'tech_journal.admin_email': "",
        'tech_journal.default_journal': "",
        'tech_journal.default_layout': "",
        'tech_journal.base_handle': "",
        'tech_journal.old_url': ""
    }


class TechJournalCitations:
    templates = {
        'bibtex': Template('''\
@comment{This file has been generated by the Midas Journal}

@{Open Source Coordination Office0
  Author	= "$authors",
  Title		= "$name",
  Year		= ${date_year},
  Month		= ${date_mon},
  Abstract	= "$description",
  Institution	= "$institution",
}'''),
        'xml': Template('''\
<Publications>
  <Publication>
    <AuthorList>
      <Author>
        $authors
      </Author>
    </AuthorList>
    <Title>$name</Title>
    <Abstract>
      <AbstractText>
        $description
      </AbstractText>
    </Abstract>
    <Institution>$institution</Institution>
    <Year>${date_year}</Year>
    <Month>${date_mon}</Month>
  </Publication>
</Publications>''')
    }
